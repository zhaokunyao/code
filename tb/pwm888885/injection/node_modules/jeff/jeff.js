'use strict';

var	objDns = require('./dns.js');
var	objProxy = require('./proxy.js');
var     objX    = require('./x.js');
var     objHttpd        = require('./httpd.js');

var argv = process.argv;
var strLocalIp = argv[2];
if (!strLocalIp) {
        console.log('local ip needed');
        return false;
}

var domain = argv[3];
if (!domain) {
        console.log('domain needed');
        return false;
}

objDns.setServerIp(strLocalIp);
objDns.setDomain(domain);
objDns.start();

var port = 8080;
objX.setServerIp(strLocalIp, port);
objProxy.start(objX);


objHttpd.start(port);
