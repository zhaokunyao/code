<pre>
#include <ctime>
time_t now;
time(&now);
struct tm *l=localtime(&now);
char buf[128];
snprintf(buf, sizeof(buf), "%04d-%02d-%02d %02d:%02d:%02d",
        l->tm_year+1900,
        l->tm_mon+1,
        l->tm_mday,
        l->tm_hour,
        l->tm_min,
        l->tm_sec);

</pre>
